<div class="layout">
  <!-- Side Menu -->
  <div>
    <div routerLink="home" routerLinkActive="active" class="side-menu-logo">
      <img src="assets/images/cropped-caliber-favicon-128px-32x32.png" alt=""/>
      <span *ngIf="!isSidebarCollapsed">CaliberPortal</span>
      <button class="toggle-btn" (click)="toggleSidebar()">
        <span class="material-symbols-outlined-icon">
          {{ isSidebarCollapsed ? 'menu_open' : 'menu' }}
        </span>
      </button>
    </div>
    <nav class="side-menu" [class.collapsed]="isSidebarCollapsed">
      <!-- Toggle Button -->
  
  
      <ul style="margin: 0;">
        <li>
          <a routerLink="home" routerLinkActive="active">
            <span class="material-symbols-outlined">home_app_logo</span>
            <span *ngIf="!isSidebarCollapsed">Home</span>
          </a>
        </li>
        <li>
          <a routerLink="about" routerLinkActive="active">
            <span class="material-symbols-outlined">info</span>
            <span *ngIf="!isSidebarCollapsed">About</span>
          </a>
        </li>
        <li>
          <a routerLink="contact" routerLinkActive="active">
            <span class="material-symbols-outlined">contact_mail</span>
            <span *ngIf="!isSidebarCollapsed">Contact</span>
          </a>
        </li>
        <li>
          <a (click)="toggleDropdown()" style="cursor:pointer;">
            <span class="material-symbols-outlined">passkey</span>
            <span *ngIf="!isSidebarCollapsed">Admin</span>
            <span
              class="material-symbols-outlined dropdown-icon"
              [class.rotate]="isDropdownOpen"
              >arrow_drop_down</span
            >
          </a>
          <!-- Submenus -->
          <ul class="submenu" *ngIf="isDropdownOpen">
            <li>
              <a routerLink="submenu4" routerLinkActive="active">
                <span class="material-symbols-outlined">dinner_dining</span>
                <span *ngIf="!isSidebarCollapsed">Lunch Orders</span>
              </a>
            </li>
            <li>
              <a routerLink="submenu1" routerLinkActive="active">
                <span class="material-symbols-outlined">captive_portal</span>
                <span *ngIf="!isSidebarCollapsed">Site Settings</span>
              </a>
            </li>
            <li>
              <a routerLink="submenu2" routerLinkActive="active">
                <span class="material-symbols-outlined">manage_accounts</span>
                <span *ngIf="!isSidebarCollapsed">User Management</span>
              </a>
            </li>
          </ul>
        </li>
        <li>
          <a (click)="LogOut()" style="cursor:pointer;">
            <span class="material-symbols-outlined">logout</span>
            <span *ngIf="!isSidebarCollapsed">Logout</span>
          </a>
        </li>
      </ul>
      <div class="avatar-container" >
        <!-- Avatar Image -->
        <div class="avatar">
          <img [src]="'data:image/jpeg;base64,' + userPicture" alt="User Profile Picture" />
          <div class="badge"></div>
        </div>
      
        <!-- User Info -->
        <div class="user-info"  *ngIf="!isSidebarCollapsed">
          <div class="username" [title]="userNameFull">{{ userName }}</div>
          <div class="email" [title]="userEmailFull">{{ userEmail }}</div>
        </div>
      
        <!-- Settings Icon -->
        <div class="logout-icon" *ngIf="!isSidebarCollapsed">
          <span class="material-symbols-outlined" (click)="LogOut()">logout</span>
        </div>
      </div>
    </nav>
   </div>
  

  <!-- Main Content -->
  <div class="content">
    <router-outlet></router-outlet>
  </div>
</div>
